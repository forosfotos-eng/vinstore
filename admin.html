<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin | VinStore</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
<style>
body {
  background-color: #f9f6f2;
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 2rem;
}
h1 {
  font-family: 'Cinzel Decorative', cursive;
  color: #5a1d2f;
}
form {
  background: #fff;
  display: inline-block;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  margin-top: 2rem;
}
input {
  display: block;
  width: 250px;
  margin: 0.7rem auto;
  padding: 0.6rem;
  border-radius: 8px;
  border: 1px solid #ccc;
}
button {
  background-color: #5a1d2f;
  color: #fff;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  cursor: pointer;
}
button:hover {
  background-color: #a0435c;
}
#logout {
  background: #999;
  margin-top: 1rem;
}
</style>
</head>
<body>

<h1>VinStore Admin ü™û</h1>
<h2>Adicionar Novo Produto</h2>

<form id="addProductForm">
  <input type="text" id="nome" placeholder="Nome do produto" required>
  <input type="text" id="preco" placeholder="Pre√ßo (‚Ç¨)" required>
  <input type="text" id="imagem" placeholder="URL da imagem" required>
  <button type="submit">Adicionar</button>
</form>

<button id="logout">Terminar Sess√£o</button>

<p><a href="index.html">‚¨ÖÔ∏è Voltar √† loja</a></p>

<script>
// --- Verifica√ß√£o de login ---
if (localStorage.getItem('isLoggedIn') !== 'true') {
  alert('Acesso restrito. Fa√ßa login primeiro.');
  window.location.href = 'login.html';
}

// --- Adicionar novo produto ---
const form = document.getElementById('addProductForm');
form.addEventListener('submit', (e) => {
  e.preventDefault();
  const nome = document.getElementById('nome').value;
  const preco = document.getElementById('preco').value;
  const imagem = document.getElementById('imagem').value;

  const novoProduto = {
    id: Date.now().toString(),
    nome,
    preco,
    imagem
  };

  const produtosGuardados = JSON.parse(localStorage.getItem('produtos')) || [];
  produtosGuardados.push(novoProduto);
  localStorage.setItem('produtos', JSON.stringify(produtosGuardados));

  alert('‚úÖ Produto adicionado com sucesso!');
  form.reset();
});

// --- Logout ---
document.getElementById('logout').addEventListener('click', () => {
  localStorage.removeItem('isLoggedIn');
  window.location.href = 'login.html';
});
</script>

</body>
</html>
